{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@askvortsov/flarum-categories/webpack/bootstrap","webpack://@askvortsov/flarum-categories/webpack/runtime/compat get default export","webpack://@askvortsov/flarum-categories/webpack/runtime/define property getters","webpack://@askvortsov/flarum-categories/webpack/runtime/hasOwnProperty shorthand","webpack://@askvortsov/flarum-categories/webpack/runtime/make namespace object","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/extend']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/Model']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@askvortsov/flarum-categories/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@askvortsov/flarum-categories/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/components/Page']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['forum/components/AffixedSidebar']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['tags/utils/sortTags']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['tags/helpers/tagLabel']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/Component']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/components/Link']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@askvortsov/flarum-categories/./src/forum/components/StatWidget.js","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['common/utils/string']\"","webpack://@askvortsov/flarum-categories/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@askvortsov/flarum-categories/./src/forum/components/LastDiscussionWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/components/Category.js","webpack://@askvortsov/flarum-categories/./src/forum/components/CategoriesPage.js","webpack://@askvortsov/flarum-categories/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/models/Tag'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/AffixedSidebar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/utils/sortTags'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/helpers/tagLabel'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import Component from 'flarum/common/Component';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default class StatWidget extends Component {\n  view() {\n    const compactMobile = app.forum.attribute('categories.compactMobile') && window.innerWidth < 767;\n    return (\n      <div class=\"StatWidget\">\n        <div class=\"StatWidget-count\">{this.attrs.count}</div>\n        <div class=\"StatWidget-label\">{compactMobile ? icon(this.attrs.icon) : this.attrs.label}</div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/username'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/string'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","import Component from 'flarum/common/Component';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport { truncate } from 'flarum/common/utils/string';\nimport Link from 'flarum/common/components/Link';\nimport UserCard from 'flarum/forum/components/UserCard';\n\nexport default class LastDiscussionWidget extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * Whether or not the user hover card is visible.\n     *\n     * @type {Boolean}\n     */\n    this.cardVisible = false;\n  }\n\n  view() {\n    const discussion = this.attrs.discussion;\n\n    if (!discussion) {\n      return <div class=\"LastDiscussion\">{app.translator.trans('askvortsov-categories.forum.last_discussion_widget.no_discussions')}</div>;\n    }\n\n    const user = discussion.lastPostedUser();\n\n    let card = '';\n\n    if (user && this.cardVisible) {\n      card = UserCard.component({\n        user,\n        className: 'UserCard--popover',\n        controlsButtonClassName: 'Button Button--icon Button--flat',\n      });\n    }\n\n    return (\n      <Link class=\"LastDiscussion\" href={app.route.discussion(discussion, discussion.lastPostNumber())}>\n        <Link className=\"LastDiscussion-avatar\" href={user ? app.route.user(user) : '#'}>\n          {avatar(user)}\n        </Link>\n        <div class=\"LastDiscussion-content\">\n          <div class=\"LastDiscussion-bottomRow\">\n            {humanTime(discussion.lastPostedAt())}{' '}\n            <Link className=\"LastDiscussion-usernameLink\" href={user ? app.route.user(user) : '#'}>\n              {' '}\n              | {username(user)}\n            </Link>\n          </div>\n          <div class=\"LastDiscussion-topRow\">{truncate(discussion.title(), 26)}</div>\n        </div>\n        <div class=\"LastDiscussion-userCardContainer\">{card}</div>\n      </Link>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    let timeout;\n\n    this.$()\n      .on('mouseover', '.LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard', () => {\n        clearTimeout(timeout);\n        timeout = setTimeout(this.showCard.bind(this), 300);\n      })\n      .on('mouseout', '.LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard', () => {\n        clearTimeout(timeout);\n        timeout = setTimeout(this.hideCard.bind(this), 150);\n      });\n  }\n\n  /**\n   * Show the user card.\n   */\n  showCard() {\n    this.cardVisible = true;\n\n    m.redraw();\n\n    setTimeout(() => this.$('.UserCard').addClass('in'));\n  }\n\n  /**\n   * Hide the user card.\n   */\n  hideCard() {\n    $('.UserCard').removeClass('in');\n    this.cardVisible = false;\n    m.redraw();\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\n\nimport icon from 'flarum/common/helpers/icon';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport sortTags from 'flarum/tags/utils/sortTags';\n\nimport StatWidget from './StatWidget';\nimport LastDiscussionWidget from './LastDiscussionWidget';\n\nexport default class Category extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.tag = this.attrs.model;\n\n    this.isChild = this.attrs.parent != null && this.attrs.parent != undefined;\n\n    this.collapsed = false;\n\n    window.addEventListener('resize', function () {\n      m.redraw();\n    });\n  }\n\n  view() {\n    const tag = this.tag;\n\n    if (!tag) {\n      return '';\n    }\n\n    this.compactMobileMode = window.innerWidth <= 767 && app.forum.attribute('categories.compactMobile');\n\n    const children = this.isChild ? [] : sortTags(tag.children() || []);\n\n    const cardStyle = this.isChild ? {} : { backgroundColor: tag.color() };\n\n    const classNames = ['TagCategory', `TagCategory-${tag.slug()}`];\n    if (this.isChild) {\n      classNames.push('SubCategory');\n    } else {\n      classNames.push('ParentCategory');\n    }\n    if (this.compactMobileMode) {\n      classNames.push('compactMobile');\n    }\n\n    const lastDiscussionClassNames = (tag.lastPostedDiscussion() ? ['TagCategory-lastDiscussion'] : ['TagCategory-lastDiscussion empty']).join(' ');\n\n    const childrenInContent = !this.isChild && this.compactMobileMode;\n\n    const renderedChildren = (\n      <ol className=\"TagCategory-subTagList\">{children.map((child) => [Category.component({ model: child, parent: this })])}</ol>\n    );\n\n    return (\n      <li class={classNames.join(' ')}>\n        <Link class={`TagCategory-content TagCategory-content-${tag.slug()}`} style={cardStyle} href={app.route.tag(tag)}>\n          <div class=\"TagCategory-alignStart\">\n            <div class=\"TagCategory-alignStart-main\">\n              <span class=\"TagCategory-icon\">{this.iconItems().toArray()}</span>\n              <div class=\"TagCategory-main\">{this.mainItems().toArray()}</div>\n            </div>\n            {children.length == 0 ? (\n              ''\n            ) : (\n              <p\n                class=\"TagCategory-toggleArrow\"\n                onclick={(e) => {\n                  this.toggleArrow(e);\n                }}\n              >\n                {icon(this.collapsed ? 'fas fa-caret-down' : 'fas fa-caret-up')}\n              </p>\n            )}\n          </div>\n          <div class=\"TagCategory-alignEnd\">\n            <div class=\"TagCategory-stats StatWidgetList\">{this.statItems().toArray()}</div>\n            <div class={lastDiscussionClassNames}>{this.lastDiscussionItems().toArray()}</div>\n          </div>\n          {childrenInContent && !this.collapsed ? renderedChildren : ''}\n        </Link>\n        {!childrenInContent && !this.isChild ? renderedChildren : ''}\n      </li>\n    );\n  }\n\n  iconItems() {\n    const items = new ItemList();\n\n    if (this.tag.icon() && this.isChild) {\n      const style = {};\n      let iconClasses = 'fa-stack-1x CategoryIcon';\n      if (app.forum.attribute('categories.childBareIcon')) {\n        style.color = this.tag.color();\n        iconClasses += ' NoBackgroundCategoryIcon';\n      }\n      const classes = this.compactMobileMode ? 'fa-stack fa-1x' : 'fa-stack fa-2x';\n      items.add(\n        'icon',\n        <span class={classes}>\n          {app.forum.attribute('categories.childBareIcon') ? (\n            ''\n          ) : (\n            <i class=\"fa fa-circle fa-stack-2x icon-background\" style={{ color: this.tag.color() }}></i>\n          )}\n          {icon(this.tag.icon(), { className: iconClasses, style: style })}\n        </span>,\n        10\n      );\n    } else if (this.tag.icon() && !app.forum.attribute('categories.parentRemoveIcon')) {\n      const classes = this.compactMobileMode ? 'fa-stack fa-2x' : 'fa-stack fa-3x';\n      items.add('icon', <span class={classes}>{icon(this.tag.icon(), { className: 'fa-stack-1x CategoryIcon' })}</span>, 10);\n    }\n\n    return items;\n  }\n\n  mainItems() {\n    const items = new ItemList();\n\n    items.add('name', <h4 class=\"TagCategory-name\">{this.tag.name()}</h4>, 15);\n\n    if (this.tag.description() && (this.isChild || !app.forum.attribute('categories.parentRemoveDescription'))) {\n      items.add('description', <div class=\"TagCategory-description\">{this.tag.description()}</div>, 10);\n    }\n\n    return items;\n  }\n\n  statItems() {\n    const items = new ItemList();\n\n    if (this.isChild || !app.forum.attribute('categories.parentRemoveStats')) {\n      items.add(\n        'discussionCount',\n        StatWidget.component({\n          count: this.tag.discussionCount(),\n          label: app.translator.trans('askvortsov-categories.forum.stat-widgets.discussion_label'),\n          icon: 'fas fa-file-alt',\n        }),\n        15\n      );\n\n      items.add(\n        'postCount',\n        StatWidget.component({\n          count: this.tag.postCount(),\n          label: app.translator.trans('askvortsov-categories.forum.stat-widgets.post_label'),\n          icon: 'fas fa-comment',\n        }),\n        10\n      );\n    }\n\n    return items;\n  }\n\n  lastDiscussionItems() {\n    const items = new ItemList();\n\n    if (this.isChild || !app.forum.attribute('categories.parentRemoveLastDiscussion')) {\n      items.add(\n        'lastDiscussion',\n        LastDiscussionWidget.component({\n          discussion: this.tag.lastPostedDiscussion(),\n        }),\n        10\n      );\n    }\n\n    return items;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    this.$('.TagCategory-content,.TagCategory-toggleArrow').bind('mouseenter', function (e) {\n      $(this).addClass('hover');\n      if ($(this).parent().hasClass('SubCategory') || $(this).hasClass('TagCategory-toggleArrow')) {\n        $(this).closest('.ParentCategory').children('.TagCategory-content').removeClass('hover');\n      }\n    });\n\n    this.$('.TagCategory-content,.TagCategory-toggleArrow').bind('mouseleave', function (e) {\n      $(this).removeClass('hover');\n      if ($(this).parent().hasClass('SubCategory') || $(this).hasClass('TagCategory-toggleArrow')) {\n        $(this).closest('.ParentCategory').children('.TagCategory-content').addClass('hover');\n      }\n    });\n  }\n\n  toggleArrow(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.collapsed = !this.collapsed;\n    m.redraw();\n  }\n}\n","import Page from 'flarum/common/components/Page';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport AffixedSidebar from 'flarum/forum/components/AffixedSidebar';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport listItems from 'flarum/common/helpers/listItems';\n\nimport sortTags from 'flarum/tags/utils/sortTags';\nimport tagLabel from 'flarum/tags/helpers/tagLabel';\n\nimport Category from './Category';\n\nexport default class CategoriesPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.history.push('categories', app.translator.trans('askvortsov-category.forum.header.back_to_categories_tooltip'));\n\n    this.tags = [];\n\n    const preloaded = app.preloadedApiDocument();\n\n    if (preloaded) {\n      this.tags = sortTags(preloaded.filter((tag) => !tag.isChild()));\n      return;\n    }\n\n    this.loading = true;\n\n    app.tagList.load(['parent', 'children', 'lastPostedDiscussion', 'lastPostedDiscussion.lastPostedUser']).then(() => {\n      this.tags = sortTags(app.store.all('tags').filter((tag) => !tag.isChild()));\n\n      this.loading = false;\n\n      m.redraw();\n    });\n  }\n\n  view() {\n    if (this.loading) {\n      return <LoadingIndicator />;\n    }\n\n    const pinned = this.tags.filter((tag) => tag.position() !== null);\n    const cloud = this.tags.filter((tag) => tag.position() === null);\n\n    const classes = app.forum.attribute('categories.fullPageDesktop') ? ['CategoriesPage', 'TagsPage'] : ['CategoriesPage'];\n\n    return (\n      <div className={classes.join(' ')}>\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div className={app.forum.attribute('categories.fullPageDesktop') ? '' : 'sideNavContainer'}>\n            <AffixedSidebar>\n              <nav className=\"CategoriesPage-nav TagsPage-nav IndexPage-nav sideNav\">\n                <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n              </nav>\n            </AffixedSidebar>\n\n            <div className=\"CategoriesPage-content sideNavOffset\">\n              <ol className=\"TagCategoryList\">\n                {pinned.map((tag) => {\n                  return Category.component({ model: tag });\n                })}\n              </ol>\n\n              {cloud.length ? <div className=\"TagCloud\">{cloud.map((tag) => [tagLabel(tag, { link: true }), ' '])}</div> : ''}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    app.setTitle(app.translator.trans('askvortsov-categories.forum.all_categories.meta_title_text'));\n  }\n}\n","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport Model from 'flarum/common/Model';\nimport Tag from 'flarum/tags/models/Tag';\nimport CategoriesPage from './components/CategoriesPage';\nimport Category from './components/Category';\nimport LastDiscussionWidget from './components/LastDiscussionWidget';\nimport StatWidget from './components/StatWidget';\n\nfunction pruneIndexNav(items, func) {\n  if (app.current.matches(CategoriesPage) && app.forum.attribute('categories.fullPageDesktop')) {\n    for (const item in items.items) {\n      if (func(item)) {\n        items.remove(item);\n      }\n    }\n  }\n}\n\napp.initializers.add('askvortsov/flarum-categories', () => {\n  app.routes.categories = {\n    path: '/categories',\n    component: CategoriesPage,\n  };\n\n  Tag.prototype.postCount = Model.attribute('postCount');\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (items.has('tags') && !app.forum.attribute('categories.keepTagsNav')) {\n      items.remove('tags');\n    }\n    items.add(\n      'categories',\n      <LinkButton icon=\"fas fa-th-list\" href={app.route('categories')}>\n        {app.translator.trans('askvortsov-categories.forum.index.categories_link')}\n      </LinkButton>,\n      -9.5\n    );\n\n    if (items.has('moreTags')) {\n      items.replace('moreTags', <LinkButton href={app.route('categories')}>{app.translator.trans('flarum-tags.forum.index.more_link')}</LinkButton>);\n    }\n\n    pruneIndexNav(items, (item) => item.startsWith('tag'));\n\n    return items;\n  });\n\n  extend(IndexPage.prototype, 'sidebarItems', function (items) {\n    pruneIndexNav(items, (item) => item !== 'newDiscussion' && item !== 'nav');\n    return items;\n  });\n});\n\nexport default {\n  'components/CategoriesPage': CategoriesPage,\n  'components/Category': Category,\n  'components/LastDiscussionWidget': LastDiscussionWidget,\n  'components/StatWidget': StatWidget,\n};\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","StatWidget","_Component","apply","arguments","view","compactMobile","app","forum","attribute","window","innerWidth","m","class","this","attrs","count","icon","label","Component","LastDiscussionWidget","_proto","oninit","vnode","cardVisible","discussion","translator","trans","user","lastPostedUser","card","UserCard","className","controlsButtonClassName","Link","href","route","lastPostNumber","avatar","humanTime","lastPostedAt","username","truncate","title","oncreate","timeout","_this","$","on","clearTimeout","setTimeout","showCard","hideCard","_this2","redraw","addClass","removeClass","Category","tag","model","isChild","parent","undefined","collapsed","addEventListener","compactMobileMode","children","sortTags","cardStyle","backgroundColor","color","classNames","slug","push","lastDiscussionClassNames","lastPostedDiscussion","join","childrenInContent","renderedChildren","map","child","component","style","iconItems","toArray","mainItems","length","onclick","e","toggleArrow","statItems","lastDiscussionItems","items","ItemList","iconClasses","classes","add","name","description","discussionCount","postCount","hasClass","closest","preventDefault","stopPropagation","CategoriesPage","_Page","history","tags","preloaded","preloadedApiDocument","filter","loading","tagList","load","then","store","all","LoadingIndicator","pinned","position","cloud","IndexPage","AffixedSidebar","listItems","tagLabel","link","setTitle","Page","pruneIndexNav","func","current","matches","item","remove","initializers","routes","categories","path","Tag","Model","extend","has","LinkButton","replace","startsWith"],"sourceRoot":""}