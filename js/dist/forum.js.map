{"version":3,"sources":["webpack://@askvortsov/flarum-categories/webpack/bootstrap","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/icon']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['Component']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['extend']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/IndexPage']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/ItemList']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/listItems']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/username']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/utils/sortTags']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/avatar']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/LinkButton']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/humanTime']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['Model']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/models/Tag']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/Page']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/helpers/tagLabel']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/string']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/UserControls']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/Dropdown']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/AvatarEditor']\"","webpack://@askvortsov/flarum-categories/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-categories/./src/forum/components/StatWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/components/ModifiedUserCard.js","webpack://@askvortsov/flarum-categories/./src/forum/components/LastDiscussionWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/components/Category.js","webpack://@askvortsov/flarum-categories/./src/forum/components/CategoriesPage.js","webpack://@askvortsov/flarum-categories/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","StatWidget","view","compactMobile","app","forum","attribute","window","innerWidth","class","this","props","count","icon","label","Component","ModifiedUserCard","user","controls","UserControls","toArray","color","badges","className","style","backgroundColor","length","Dropdown","component","children","menuClassName","buttonClassName","controlsButtonClassName","translator","trans","editable","AvatarEditor","username","href","route","config","stopProp","avatar","listItems","infoItems","items","ItemList","lastSeenAt","online","isOnline","add","humanTime","joinTime","ago","element","isInitialized","$","on","e","stopPropagation","apply","arguments","LastDiscussionWidget","init","cardVisible","discussion","lastPostedUser","card","lastPostedAt","truncate","title","timeout","clearTimeout","setTimeout","showCard","hideCard","redraw","addClass","removeClass","Category","tag","isChild","parent","undefined","collapsed","addEventListener","compactMobileMode","sortTags","store","all","filter","child","cardStyle","classNames","slug","push","lastDiscussionClassNames","lastPostedDiscussion","join","childrenInContent","renderedChildren","map","iconItems","mainItems","onclick","toggleArrow","statItems","lastDiscussionItems","iconClasses","classes","description","discussionCount","postCount","hasClass","closest","preventDefault","CategoriesPage","Page","tags","history","extend","IndexPage","current","item","remove","pinned","position","cloud","hero","affixSidebar","sidebarItems","tagLabel","link","args","setTitle","setTitleCount","TagsPage","initializers","routes","categories","path","Tag","Model","has","LinkButton","replace"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['tags/utils/sortTags'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['utils/humanTime'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['tags/models/Tag'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['tags/helpers/tagLabel'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","module.exports = flarum.core.compat['utils/string'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/AvatarEditor'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Component from 'flarum/Component';\nimport icon from 'flarum/helpers/icon';\n\nexport default class StatWidget extends Component {\n    view() {\n        const compactMobile = app.forum.attribute('categories.compactMobile') && window.innerWidth < 767;\n        return (\n            <div class=\"StatWidget\">\n                <div class=\"StatWidget-count\">\n                    {this.props.count}\n                </div>\n                <div class=\"StatWidget-label\">\n                    {compactMobile ? icon(this.props.icon): this.props.label}\n                </div>\n            </div>\n        );\n    }\n}","import Component from 'flarum/Component';\nimport humanTime from 'flarum/utils/humanTime';\nimport ItemList from 'flarum/utils/ItemList';\nimport UserControls from 'flarum/utils/UserControls';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport icon from 'flarum/helpers/icon';\nimport Dropdown from 'flarum/components/Dropdown';\nimport AvatarEditor from 'flarum/components/AvatarEditor';\nimport listItems from 'flarum/helpers/listItems';\n\n/**\n * The `UserCard` component displays a user's profile card. This is used both on\n * the `UserPage` (in the hero) and in discussions, shown when hovering over a\n * post author.\n *\n * ### Props\n *\n * - `user`\n * - `className`\n * - `editable`\n * - `controlsButtonClassName`\n */\nexport default class ModifiedUserCard extends Component {\n    view() {\n        const user = this.props.user;\n\n        const controls = UserControls.controls(user, this).toArray();\n        const color = user.color();\n        const badges = user.badges().toArray();\n\n        return (\n            <div className={'UserCard ' + (this.props.className || '')}\n                style={color ? { backgroundColor: color } : ''}>\n                <div className=\"darkenBackground\">\n\n                    <div className=\"container\">\n                        {controls.length ? Dropdown.component({\n                            children: controls,\n                            className: 'UserCard-controls App-primaryControl',\n                            menuClassName: 'Dropdown-menu--right',\n                            buttonClassName: this.props.controlsButtonClassName,\n                            label: app.translator.trans('core.forum.user_controls.button'),\n                            icon: 'fas fa-ellipsis-v'\n                        }) : ''}\n\n                        <div className=\"UserCard-profile\">\n                            <h2 className=\"UserCard-identity\">\n                                {this.props.editable\n                                    ? [AvatarEditor.component({ user, className: 'UserCard-avatar' }), username(user)]\n                                    : (\n                                        <a href={app.route.user(user)} config={this.stopProp}>\n                                            <div className=\"UserCard-avatar\">{avatar(user)}</div>\n                                            {username(user)}\n                                        </a>\n                                    )}\n                            </h2>\n\n                            {badges.length ? (\n                                <ul className=\"UserCard-badges badges\">\n                                    {listItems(badges)}\n                                </ul>\n                            ) : ''}\n\n                            <ul className=\"UserCard-info\">\n                                {listItems(this.infoItems().toArray())}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    /**\n     * Build an item list of tidbits of info to show on this user's profile.\n     *\n     * @return {ItemList}\n     */\n    infoItems() {\n        const items = new ItemList();\n        const user = this.props.user;\n        const lastSeenAt = user.lastSeenAt();\n\n        if (lastSeenAt) {\n            const online = user.isOnline();\n\n            items.add('lastSeen', (\n                <span className={'UserCard-lastSeen' + (online ? ' online' : '')}>\n                    {online\n                        ? [icon('fas fa-circle'), ' ', app.translator.trans('core.forum.user.online_text')]\n                        : [icon('far fa-clock'), ' ', humanTime(lastSeenAt)]}\n                </span>\n            ));\n        }\n\n        if (user.joinTime()) {\n            items.add('joined', app.translator.trans('core.forum.user.joined_date_text', { ago: humanTime(user.joinTime()) }));\n        }\n\n        return items;\n    }\n\n    stopProp(element, isInitialized) {\n        if (isInitialized) return;\n        $(element).on('click', e => e.stopPropagation());\n        m.route.apply(this, arguments);\n    }\n}\n","import Component from 'flarum/Component';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport humanTime from 'flarum/helpers/humanTime';\nimport { truncate } from 'flarum/utils/string';\nimport ModifiedUserCard from './ModifiedUserCard';\n\nexport default class LastDiscussionWidget extends Component {\n    init() {\n        /**\n         * Whether or not the user hover card is visible.\n         *\n         * @type {Boolean}\n         */\n        this.cardVisible = false;\n    }\n\n    view() {\n        const discussion = this.props.discussion;\n\n\n        if (!discussion) {\n            return (\n                <div class=\"LastDiscussion\">\n                    {app.translator.trans('askvortsov-categories.forum.last_discussion_widget.no_discussions')}\n                </div>\n            );\n        }\n\n        const user = discussion.lastPostedUser();\n\n        let card = '';\n\n        if (user && this.cardVisible) {\n            card = ModifiedUserCard.component({\n                user,\n                className: 'UserCard--popover',\n                controlsButtonClassName: 'Button Button--icon Button--flat',\n            });\n        }\n\n        return (\n            <a class=\"LastDiscussion\" href={app.route.discussion(discussion)} config={this.stopProp}>\n                <a className=\"LastDiscussion-avatar\" href={user ? app.route.user(user) : '#'} config={this.stopProp}>\n                    {avatar(user)}\n                </a>\n                <div class=\"LastDiscussion-content\">\n                    <div class=\"LastDiscussion-bottomRow\">\n                        {humanTime(discussion.lastPostedAt())} <a className=\"LastDiscussion-usernameLink\" href={user ? app.route.user(user) : '#'} config={this.stopProp}>  |  {username(user)}</a>\n                    </div>\n                    <div class=\"LastDiscussion-topRow\">\n                        {truncate(discussion.title(), 26)}\n                    </div>\n                </div>\n                <div class=\"LastDiscussion-userCardContainer\">{card}</div>\n            </a>\n        );\n    }\n\n    stopProp(element, isInitialized) {\n        if (isInitialized) return;\n        $(element).on('click', e => e.stopPropagation());\n        m.route.apply(this, arguments);\n    }\n\n    config(isInitialized) {\n        if (isInitialized) return;\n\n        let timeout;\n\n        this.$()\n            .on('mouseover', '.LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard', () => {\n                clearTimeout(timeout);\n                timeout = setTimeout(this.showCard.bind(this), 300);\n            })\n            .on('mouseout', '.LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard', () => {\n                clearTimeout(timeout);\n                timeout = setTimeout(this.hideCard.bind(this), 150);\n            });\n    }\n\n    /**\n   * Show the user card.\n   */\n    showCard() {\n        this.cardVisible = true;\n\n        m.redraw();\n\n        setTimeout(() => this.$('.UserCard').addClass('in'));\n    }\n\n    /**\n     * Hide the user card.\n     */\n    hideCard() {\n        $('.UserCard').removeClass('in')\n        this.cardVisible = false;\n        m.redraw();\n    }\n}","import Component from 'flarum/Component';\n\nimport icon from 'flarum/helpers/icon';\nimport ItemList from 'flarum/utils/ItemList';\nimport sortTags from 'flarum/tags/utils/sortTags';\n\nimport StatWidget from './StatWidget';\nimport LastDiscussionWidget from './LastDiscussionWidget';\n\nexport default class Category extends Component {\n    init() {\n        super.init();\n\n        this.tag = this.props.tag;\n\n        this.isChild = this.props.parent != null && this.props.parent != undefined;\n\n        this.collapsed = false;\n\n        window.addEventListener(\"resize\", function () {\n            m.redraw();\n        });\n    }\n\n    view() {\n        const tag = this.tag;\n\n        if (!tag) {\n            return '';\n        }\n\n        this.compactMobileMode = window.innerWidth <= 767 && app.forum.attribute('categories.compactMobile');\n\n        const children = this.isChild ? [] : sortTags(app.store.all('tags').filter(child => child.parent() === tag));\n\n        const cardStyle = this.isChild ? {} : { backgroundColor: tag.color() };\n\n        const classNames = ['TagCategory', `TagCategory-${tag.slug()}`];\n        if (this.isChild) {\n            classNames.push('SubCategory');\n        } else {\n            classNames.push('ParentCategory');\n        }\n        if (this.compactMobileMode) {\n            classNames.push('compactMobile');\n        }\n\n        const lastDiscussionClassNames = (tag.lastPostedDiscussion() ? ['TagCategory-lastDiscussion'] : ['TagCategory-lastDiscussion empty']).join(' ');\n\n        const childrenInContent = !this.isChild && this.compactMobileMode;\n\n        const renderedChildren = (<ol className=\"TagCategory-subTagList\">\n            {children.map(child => [\n                Category.component({ tag: child, parent: this })\n            ])}\n        </ol>);\n\n        return (\n            <li class={classNames.join(' ')}>\n                <a class={`TagCategory-content TagCategory-content-${tag.slug()}`}\n                    style={cardStyle}\n                    href={app.route.tag(tag)}\n                    config={this.stopProp}>\n                    <div class=\"TagCategory-alignStart\">\n                        <div class=\"TagCategory-alignStart-main\">\n                            <span class=\"TagCategory-icon\">\n                                {this.iconItems().toArray()}\n                            </span>\n                            <div class=\"TagCategory-main\">\n                                {this.mainItems().toArray()}\n                            </div>\n                        </div>\n                        {children.length == 0 ? '' : <p class=\"TagCategory-toggleArrow\" onclick={(e) => { this.toggleArrow(e) }}>{icon(this.collapsed ? 'fas fa-caret-down' : 'fas fa-caret-up')}</p>}\n                    </div>\n                    <div class=\"TagCategory-alignEnd\">\n                        <div class=\"TagCategory-stats StatWidgetList\">\n                            {this.statItems().toArray()}\n                        </div>\n                        <div class={lastDiscussionClassNames}>\n                            {this.lastDiscussionItems().toArray()}\n                        </div>\n                    </div>\n                    {childrenInContent && !this.collapsed ? renderedChildren : ''}\n                </a>\n                {!childrenInContent && !this.isChild ? renderedChildren: ''}\n            </li>\n        );\n    }\n\n    iconItems() {\n        const items = new ItemList;\n\n        if (this.tag.icon() && this.isChild) {\n            const style = {};\n            let iconClasses = 'fa-stack-1x CategoryIcon';\n            if (app.forum.attribute('categories.childBareIcon')) {\n                style.color = this.tag.color();\n                iconClasses += ' NoBackgroundCategoryIcon';\n            }\n            const classes = this.compactMobileMode ? 'fa-stack fa-1x' : 'fa-stack fa-2x';\n            items.add('icon',\n                <span class={classes}>\n                    {app.forum.attribute('categories.childBareIcon') ?\n                        '' : <i class=\"fa fa-circle fa-stack-2x icon-background\" style={{ color: this.tag.color() }}></i>}\n                    {icon(this.tag.icon(), { className: iconClasses, style: style })}\n                </span>, 10);\n        } else if (this.tag.icon() && !app.forum.attribute('categories.parentRemoveIcon')) {\n            const classes = this.compactMobileMode ? 'fa-stack fa-2x' : 'fa-stack fa-3x';\n            items.add('icon',\n                <span class={classes}>\n                    {icon(this.tag.icon(), { className: 'fa-stack-1x CategoryIcon' })}\n                </span>, 10);\n        }\n\n        return items;\n    }\n\n    mainItems() {\n        const items = new ItemList;\n\n        items.add('name', <h4 class=\"TagCategory-name\">{this.tag.name()}</h4>, 15)\n\n        if (this.tag.description() && (this.isChild || !app.forum.attribute('categories.parentRemoveDescription'))) {\n            items.add('description', <div class=\"TagCategory-description\">{this.tag.description()}</div>, 10)\n        }\n\n        return items;\n    }\n\n    statItems() {\n        const items = new ItemList;\n\n        if (this.isChild || !app.forum.attribute('categories.parentRemoveStats')) {\n            items.add('discussionCount', StatWidget.component({\n                count: this.tag.discussionCount(),\n                label: app.translator.trans('askvortsov-categories.forum.stat-widgets.discussion_label'),\n                icon: 'fas fa-file-alt',\n            }), 15)\n\n            items.add('postCount', StatWidget.component({\n                count: this.tag.postCount(),\n                label: app.translator.trans('askvortsov-categories.forum.stat-widgets.post_label'),\n                icon: 'fas fa-comment',\n            }), 10)\n        }\n\n        return items;\n    }\n\n    lastDiscussionItems() {\n        const items = new ItemList;\n\n        if (this.isChild || !app.forum.attribute('categories.parentRemoveLastDiscussion')) {\n            items.add('lastDiscussion', LastDiscussionWidget.component({\n                discussion: this.tag.lastPostedDiscussion()\n            }), 10);\n        }\n\n        return items;\n    }\n\n    config(isInitialized) {\n        if (isInitialized) return;\n\n        this.$('.TagCategory-content,.TagCategory-toggleArrow').bind('mouseenter', function (e) {\n            $(this).addClass('hover');\n            if ($(this).parent().hasClass('SubCategory') || $(this).hasClass('TagCategory-toggleArrow')) {\n                $(this).closest('.ParentCategory').children('.TagCategory-content').removeClass('hover');\n            }\n        });\n\n        this.$('.TagCategory-content,.TagCategory-toggleArrow').bind('mouseleave', function (e) {\n            $(this).removeClass('hover');\n            if ($(this).parent().hasClass('SubCategory') || $(this).hasClass('TagCategory-toggleArrow')) {\n                $(this).closest('.ParentCategory').children('.TagCategory-content').addClass('hover');\n            }\n        });\n    }\n\n    toggleArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.collapsed = !this.collapsed;\n        m.redraw();\n    }\n\n    stopProp(element, isInitialized) {\n        if (isInitialized) return;\n        $(element).on('click', e => e.stopPropagation());\n        m.route.apply(this, arguments);\n    }\n}","import { extend } from 'flarum/extend';\nimport Page from 'flarum/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport listItems from 'flarum/helpers/listItems';\nimport humanTime from 'flarum/helpers/humanTime';\n\nimport sortTags from 'flarum/tags/utils/sortTags';\nimport tagLabel from 'flarum/tags/helpers/tagLabel';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nimport Category from './Category';\n\nexport default class CategoriesPage extends TagsPage {\n  init() {\n    Page.prototype.init.call(this);\n\n    this.tags = sortTags(app.store.all('tags').filter(tag => !tag.parent()));\n\n    app.history.push('categories', app.translator.trans('askvortsov-category.forum.header.back_to_categories_tooltip'));\n\n    extend(IndexPage.prototype, 'sidebarItems', function (items) {\n      if (app.current instanceof CategoriesPage && app.forum.attribute('categories.fullPageDesktop')) {\n        for (const item in items.items) {\n          if (item != 'newDiscussion' && item != 'nav') {\n            items.remove(item);\n          }\n        }\n      }\n      return items;\n    });\n  }\n\n  view() {\n    const pinned = this.tags.filter(tag => tag.position() !== null);\n    const cloud = this.tags.filter(tag => tag.position() === null);\n\n    const classes = app.forum.attribute('categories.fullPageDesktop') ? ['CategoriesPage', 'TagsPage'] : ['CategoriesPage'];\n\n    return (\n      <div className={classes.join(' ')}>\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div className={app.forum.attribute('categories.fullPageDesktop') ? '' : 'sideNavContainer'}>\n            <nav className=\"CategoriesPage-nav TagsPage-nav IndexPage-nav sideNav\" config={IndexPage.prototype.affixSidebar}>\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n\n            <div className=\"CategoriesPage-content sideNavOffset\">\n              <ol className=\"TagCategoryList\">\n                {pinned.map(tag => {\n                  return (Category.component({ tag }));\n                })}\n              </ol>\n\n              {cloud.length ? (\n                <div className=\"TagCloud\">\n                  {cloud.map(tag => [\n                    tagLabel(tag, { link: true }),\n                    ' ',\n                  ])}\n                </div>\n              ) : ''}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  config(...args) {\n    super.config(...args);\n\n    if (m.route() != \"/\") {\n      app.setTitle(app.translator.trans('askvortsov-categories.forum.meta.categories_title'));\n    } else {\n      app.setTitle('');\n    }\n    app.setTitleCount(0);\n  }\n}\n","import { extend } from 'flarum/extend';\r\nimport IndexPage from 'flarum/components/IndexPage';\r\nimport LinkButton from 'flarum/components/LinkButton';\r\nimport Model from 'flarum/Model';\r\nimport Tag from 'flarum/tags/models/Tag';\r\nimport CategoriesPage from './components/CategoriesPage';\r\n\r\napp.initializers.add('askvortsov/flarum-categories', () => {\r\n  app.routes.categories = { path: '/categories', component: CategoriesPage.component() };\r\n\r\n  Tag.prototype.postCount = Model.attribute('postCount');\r\n\r\n  extend(IndexPage.prototype, 'navItems', function (items) {\r\n    if (items.has('tags') && !app.forum.attribute('categories.keepTagsNav')) {\r\n      items.remove('tags');\r\n    }\r\n    items.add('categories', LinkButton.component({\r\n      icon: 'fas fa-th-list',\r\n      children: app.translator.trans('askvortsov-categories.forum.index.categories_link'),\r\n      href: app.route('categories')\r\n    }), -9.5);\r\n\r\n    if (items.has('moreTags')) {\r\n      items.replace('moreTags', LinkButton.component({\r\n        children: app.translator.trans('flarum-tags.forum.index.more_link'),\r\n        href: app.route('categories')\r\n      }))\r\n    }\r\n\r\n    return items;\r\n  });\r\n});\r\n"],"sourceRoot":""}