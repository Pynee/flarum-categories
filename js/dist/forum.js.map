{"version":3,"sources":["webpack://@askvortsov/flarum-categories/webpack/bootstrap","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/icon']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['Component']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['extend']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/IndexPage']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/ItemList']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/listItems']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/username']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/utils/sortTags']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/avatar']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/LinkButton']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/humanTime']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['Model']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/models/Tag']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/Page']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/helpers/tagLabel']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/string']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/UserControls']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/Dropdown']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/AvatarEditor']\"","webpack://@askvortsov/flarum-categories/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-categories/./src/forum/components/StatWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/components/ModifiedUserCard.js","webpack://@askvortsov/flarum-categories/./src/forum/components/LastDiscussionWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/components/Category.js","webpack://@askvortsov/flarum-categories/./src/forum/components/CategoriesPage.js","webpack://@askvortsov/flarum-categories/./src/forum/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","flarum","core","compat","_inheritsLoose","subClass","superClass","constructor","__proto__","StatWidget","view","compactMobile","app","forum","attribute","window","innerWidth","class","this","props","count","icon","label","Component","ModifiedUserCard","user","controls","UserControls","toArray","color","badges","className","style","backgroundColor","length","Dropdown","component","children","menuClassName","buttonClassName","controlsButtonClassName","translator","trans","editable","AvatarEditor","username","href","route","config","stopProp","avatar","listItems","infoItems","items","ItemList","lastSeenAt","online","isOnline","add","humanTime","joinTime","ago","element","isInitialized","$","on","e","stopPropagation","apply","arguments","LastDiscussionWidget","init","cardVisible","discussion","lastPostedUser","card","lastPostedAt","truncate","title","timeout","clearTimeout","setTimeout","showCard","hideCard","redraw","addClass","removeClass","Category","tag","isChild","parent","undefined","collapsed","addEventListener","compactMobileMode","sortTags","store","all","filter","child","cardStyle","classNames","slug","push","lastDiscussionClassNames","lastPostedDiscussion","join","childrenInContent","renderedChildren","map","iconItems","mainItems","onclick","toggleArrow","statItems","lastDiscussionItems","iconClasses","classes","description","discussionCount","postCount","hasClass","closest","preventDefault","CategoriesPage","Page","tags","history","extend","IndexPage","current","item","remove","pinned","position","cloud","hero","affixSidebar","sidebarItems","tagLabel","link","args","setTitle","setTitleCount","TagsPage","initializers","routes","categories","path","Tag","Model","has","LinkButton","replace"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['tags/utils/sortTags'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['utils/humanTime'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['tags/models/Tag'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['tags/helpers/tagLabel'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","module.exports = flarum.core.compat['utils/string'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/AvatarEditor'];","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Component from \"flarum/Component\";\nimport icon from \"flarum/helpers/icon\";\n\nexport default class StatWidget extends Component {\n  view() {\n    const compactMobile =\n      app.forum.attribute(\"categories.compactMobile\") &&\n      window.innerWidth < 767;\n    return (\n      <div class=\"StatWidget\">\n        <div class=\"StatWidget-count\">{this.props.count}</div>\n        <div class=\"StatWidget-label\">\n          {compactMobile ? icon(this.props.icon) : this.props.label}\n        </div>\n      </div>\n    );\n  }\n}\n","import Component from \"flarum/Component\";\nimport humanTime from \"flarum/utils/humanTime\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport UserControls from \"flarum/utils/UserControls\";\nimport avatar from \"flarum/helpers/avatar\";\nimport username from \"flarum/helpers/username\";\nimport icon from \"flarum/helpers/icon\";\nimport Dropdown from \"flarum/components/Dropdown\";\nimport AvatarEditor from \"flarum/components/AvatarEditor\";\nimport listItems from \"flarum/helpers/listItems\";\n\n/**\n * The `UserCard` component displays a user's profile card. This is used both on\n * the `UserPage` (in the hero) and in discussions, shown when hovering over a\n * post author.\n *\n * ### Props\n *\n * - `user`\n * - `className`\n * - `editable`\n * - `controlsButtonClassName`\n */\nexport default class ModifiedUserCard extends Component {\n  view() {\n    const user = this.props.user;\n\n    const controls = UserControls.controls(user, this).toArray();\n    const color = user.color();\n    const badges = user.badges().toArray();\n\n    return (\n      <div\n        className={\"UserCard \" + (this.props.className || \"\")}\n        style={color ? { backgroundColor: color } : \"\"}\n      >\n        <div className=\"darkenBackground\">\n          <div className=\"container\">\n            {controls.length\n              ? Dropdown.component({\n                  children: controls,\n                  className: \"UserCard-controls App-primaryControl\",\n                  menuClassName: \"Dropdown-menu--right\",\n                  buttonClassName: this.props.controlsButtonClassName,\n                  label: app.translator.trans(\n                    \"core.forum.user_controls.button\"\n                  ),\n                  icon: \"fas fa-ellipsis-v\",\n                })\n              : \"\"}\n\n            <div className=\"UserCard-profile\">\n              <h2 className=\"UserCard-identity\">\n                {this.props.editable ? (\n                  [\n                    AvatarEditor.component({\n                      user,\n                      className: \"UserCard-avatar\",\n                    }),\n                    username(user),\n                  ]\n                ) : (\n                  <a href={app.route.user(user)} config={this.stopProp}>\n                    <div className=\"UserCard-avatar\">{avatar(user)}</div>\n                    {username(user)}\n                  </a>\n                )}\n              </h2>\n\n              {badges.length ? (\n                <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>\n              ) : (\n                \"\"\n              )}\n\n              <ul className=\"UserCard-info\">\n                {listItems(this.infoItems().toArray())}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * Build an item list of tidbits of info to show on this user's profile.\n   *\n   * @return {ItemList}\n   */\n  infoItems() {\n    const items = new ItemList();\n    const user = this.props.user;\n    const lastSeenAt = user.lastSeenAt();\n\n    if (lastSeenAt) {\n      const online = user.isOnline();\n\n      items.add(\n        \"lastSeen\",\n        <span className={\"UserCard-lastSeen\" + (online ? \" online\" : \"\")}>\n          {online\n            ? [\n                icon(\"fas fa-circle\"),\n                \" \",\n                app.translator.trans(\"core.forum.user.online_text\"),\n              ]\n            : [icon(\"far fa-clock\"), \" \", humanTime(lastSeenAt)]}\n        </span>\n      );\n    }\n\n    if (user.joinTime()) {\n      items.add(\n        \"joined\",\n        app.translator.trans(\"core.forum.user.joined_date_text\", {\n          ago: humanTime(user.joinTime()),\n        })\n      );\n    }\n\n    return items;\n  }\n\n  stopProp(element, isInitialized) {\n    if (isInitialized) return;\n    $(element).on(\"click\", (e) => e.stopPropagation());\n    m.route.apply(this, arguments);\n  }\n}\n","import Component from \"flarum/Component\";\nimport avatar from \"flarum/helpers/avatar\";\nimport username from \"flarum/helpers/username\";\nimport humanTime from \"flarum/helpers/humanTime\";\nimport { truncate } from \"flarum/utils/string\";\nimport ModifiedUserCard from \"./ModifiedUserCard\";\n\nexport default class LastDiscussionWidget extends Component {\n  init() {\n    /**\n     * Whether or not the user hover card is visible.\n     *\n     * @type {Boolean}\n     */\n    this.cardVisible = false;\n  }\n\n  view() {\n    const discussion = this.props.discussion;\n\n    if (!discussion) {\n      return (\n        <div class=\"LastDiscussion\">\n          {app.translator.trans(\n            \"askvortsov-categories.forum.last_discussion_widget.no_discussions\"\n          )}\n        </div>\n      );\n    }\n\n    const user = discussion.lastPostedUser();\n\n    let card = \"\";\n\n    if (user && this.cardVisible) {\n      card = ModifiedUserCard.component({\n        user,\n        className: \"UserCard--popover\",\n        controlsButtonClassName: \"Button Button--icon Button--flat\",\n      });\n    }\n\n    return (\n      <a\n        class=\"LastDiscussion\"\n        href={app.route.discussion(discussion)}\n        config={this.stopProp}\n      >\n        <a\n          className=\"LastDiscussion-avatar\"\n          href={user ? app.route.user(user) : \"#\"}\n          config={this.stopProp}\n        >\n          {avatar(user)}\n        </a>\n        <div class=\"LastDiscussion-content\">\n          <div class=\"LastDiscussion-bottomRow\">\n            {humanTime(discussion.lastPostedAt())}{\" \"}\n            <a\n              className=\"LastDiscussion-usernameLink\"\n              href={user ? app.route.user(user) : \"#\"}\n              config={this.stopProp}\n            >\n              {\" \"}\n              | {username(user)}\n            </a>\n          </div>\n          <div class=\"LastDiscussion-topRow\">\n            {truncate(discussion.title(), 26)}\n          </div>\n        </div>\n        <div class=\"LastDiscussion-userCardContainer\">{card}</div>\n      </a>\n    );\n  }\n\n  stopProp(element, isInitialized) {\n    if (isInitialized) return;\n    $(element).on(\"click\", (e) => e.stopPropagation());\n    m.route.apply(this, arguments);\n  }\n\n  config(isInitialized) {\n    if (isInitialized) return;\n\n    let timeout;\n\n    this.$()\n      .on(\n        \"mouseover\",\n        \".LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard\",\n        () => {\n          clearTimeout(timeout);\n          timeout = setTimeout(this.showCard.bind(this), 300);\n        }\n      )\n      .on(\n        \"mouseout\",\n        \".LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard\",\n        () => {\n          clearTimeout(timeout);\n          timeout = setTimeout(this.hideCard.bind(this), 150);\n        }\n      );\n  }\n\n  /**\n   * Show the user card.\n   */\n  showCard() {\n    this.cardVisible = true;\n\n    m.redraw();\n\n    setTimeout(() => this.$(\".UserCard\").addClass(\"in\"));\n  }\n\n  /**\n   * Hide the user card.\n   */\n  hideCard() {\n    $(\".UserCard\").removeClass(\"in\");\n    this.cardVisible = false;\n    m.redraw();\n  }\n}\n","import Component from \"flarum/Component\";\n\nimport icon from \"flarum/helpers/icon\";\nimport ItemList from \"flarum/utils/ItemList\";\nimport sortTags from \"flarum/tags/utils/sortTags\";\n\nimport StatWidget from \"./StatWidget\";\nimport LastDiscussionWidget from \"./LastDiscussionWidget\";\n\nexport default class Category extends Component {\n  init() {\n    super.init();\n\n    this.tag = this.props.tag;\n\n    this.isChild = this.props.parent != null && this.props.parent != undefined;\n\n    this.collapsed = false;\n\n    window.addEventListener(\"resize\", function () {\n      m.redraw();\n    });\n  }\n\n  view() {\n    const tag = this.tag;\n\n    if (!tag) {\n      return \"\";\n    }\n\n    this.compactMobileMode =\n      window.innerWidth <= 767 &&\n      app.forum.attribute(\"categories.compactMobile\");\n\n    const children = this.isChild\n      ? []\n      : sortTags(\n          app.store.all(\"tags\").filter((child) => child.parent() === tag)\n        );\n\n    const cardStyle = this.isChild ? {} : { backgroundColor: tag.color() };\n\n    const classNames = [\"TagCategory\", `TagCategory-${tag.slug()}`];\n    if (this.isChild) {\n      classNames.push(\"SubCategory\");\n    } else {\n      classNames.push(\"ParentCategory\");\n    }\n    if (this.compactMobileMode) {\n      classNames.push(\"compactMobile\");\n    }\n\n    const lastDiscussionClassNames = (tag.lastPostedDiscussion()\n      ? [\"TagCategory-lastDiscussion\"]\n      : [\"TagCategory-lastDiscussion empty\"]\n    ).join(\" \");\n\n    const childrenInContent = !this.isChild && this.compactMobileMode;\n\n    const renderedChildren = (\n      <ol className=\"TagCategory-subTagList\">\n        {children.map((child) => [\n          Category.component({ tag: child, parent: this }),\n        ])}\n      </ol>\n    );\n\n    return (\n      <li class={classNames.join(\" \")}>\n        <a\n          class={`TagCategory-content TagCategory-content-${tag.slug()}`}\n          style={cardStyle}\n          href={app.route.tag(tag)}\n          config={this.stopProp}\n        >\n          <div class=\"TagCategory-alignStart\">\n            <div class=\"TagCategory-alignStart-main\">\n              <span class=\"TagCategory-icon\">{this.iconItems().toArray()}</span>\n              <div class=\"TagCategory-main\">{this.mainItems().toArray()}</div>\n            </div>\n            {children.length == 0 ? (\n              \"\"\n            ) : (\n              <p\n                class=\"TagCategory-toggleArrow\"\n                onclick={(e) => {\n                  this.toggleArrow(e);\n                }}\n              >\n                {icon(this.collapsed ? \"fas fa-caret-down\" : \"fas fa-caret-up\")}\n              </p>\n            )}\n          </div>\n          <div class=\"TagCategory-alignEnd\">\n            <div class=\"TagCategory-stats StatWidgetList\">\n              {this.statItems().toArray()}\n            </div>\n            <div class={lastDiscussionClassNames}>\n              {this.lastDiscussionItems().toArray()}\n            </div>\n          </div>\n          {childrenInContent && !this.collapsed ? renderedChildren : \"\"}\n        </a>\n        {!childrenInContent && !this.isChild ? renderedChildren : \"\"}\n      </li>\n    );\n  }\n\n  iconItems() {\n    const items = new ItemList();\n\n    if (this.tag.icon() && this.isChild) {\n      const style = {};\n      let iconClasses = \"fa-stack-1x CategoryIcon\";\n      if (app.forum.attribute(\"categories.childBareIcon\")) {\n        style.color = this.tag.color();\n        iconClasses += \" NoBackgroundCategoryIcon\";\n      }\n      const classes = this.compactMobileMode\n        ? \"fa-stack fa-1x\"\n        : \"fa-stack fa-2x\";\n      items.add(\n        \"icon\",\n        <span class={classes}>\n          {app.forum.attribute(\"categories.childBareIcon\") ? (\n            \"\"\n          ) : (\n            <i\n              class=\"fa fa-circle fa-stack-2x icon-background\"\n              style={{ color: this.tag.color() }}\n            ></i>\n          )}\n          {icon(this.tag.icon(), { className: iconClasses, style: style })}\n        </span>,\n        10\n      );\n    } else if (\n      this.tag.icon() &&\n      !app.forum.attribute(\"categories.parentRemoveIcon\")\n    ) {\n      const classes = this.compactMobileMode\n        ? \"fa-stack fa-2x\"\n        : \"fa-stack fa-3x\";\n      items.add(\n        \"icon\",\n        <span class={classes}>\n          {icon(this.tag.icon(), { className: \"fa-stack-1x CategoryIcon\" })}\n        </span>,\n        10\n      );\n    }\n\n    return items;\n  }\n\n  mainItems() {\n    const items = new ItemList();\n\n    items.add(\"name\", <h4 class=\"TagCategory-name\">{this.tag.name()}</h4>, 15);\n\n    if (\n      this.tag.description() &&\n      (this.isChild ||\n        !app.forum.attribute(\"categories.parentRemoveDescription\"))\n    ) {\n      items.add(\n        \"description\",\n        <div class=\"TagCategory-description\">{this.tag.description()}</div>,\n        10\n      );\n    }\n\n    return items;\n  }\n\n  statItems() {\n    const items = new ItemList();\n\n    if (this.isChild || !app.forum.attribute(\"categories.parentRemoveStats\")) {\n      items.add(\n        \"discussionCount\",\n        StatWidget.component({\n          count: this.tag.discussionCount(),\n          label: app.translator.trans(\n            \"askvortsov-categories.forum.stat-widgets.discussion_label\"\n          ),\n          icon: \"fas fa-file-alt\",\n        }),\n        15\n      );\n\n      items.add(\n        \"postCount\",\n        StatWidget.component({\n          count: this.tag.postCount(),\n          label: app.translator.trans(\n            \"askvortsov-categories.forum.stat-widgets.post_label\"\n          ),\n          icon: \"fas fa-comment\",\n        }),\n        10\n      );\n    }\n\n    return items;\n  }\n\n  lastDiscussionItems() {\n    const items = new ItemList();\n\n    if (\n      this.isChild ||\n      !app.forum.attribute(\"categories.parentRemoveLastDiscussion\")\n    ) {\n      items.add(\n        \"lastDiscussion\",\n        LastDiscussionWidget.component({\n          discussion: this.tag.lastPostedDiscussion(),\n        }),\n        10\n      );\n    }\n\n    return items;\n  }\n\n  config(isInitialized) {\n    if (isInitialized) return;\n\n    this.$(\".TagCategory-content,.TagCategory-toggleArrow\").bind(\n      \"mouseenter\",\n      function (e) {\n        $(this).addClass(\"hover\");\n        if (\n          $(this).parent().hasClass(\"SubCategory\") ||\n          $(this).hasClass(\"TagCategory-toggleArrow\")\n        ) {\n          $(this)\n            .closest(\".ParentCategory\")\n            .children(\".TagCategory-content\")\n            .removeClass(\"hover\");\n        }\n      }\n    );\n\n    this.$(\".TagCategory-content,.TagCategory-toggleArrow\").bind(\n      \"mouseleave\",\n      function (e) {\n        $(this).removeClass(\"hover\");\n        if (\n          $(this).parent().hasClass(\"SubCategory\") ||\n          $(this).hasClass(\"TagCategory-toggleArrow\")\n        ) {\n          $(this)\n            .closest(\".ParentCategory\")\n            .children(\".TagCategory-content\")\n            .addClass(\"hover\");\n        }\n      }\n    );\n  }\n\n  toggleArrow(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.collapsed = !this.collapsed;\n    m.redraw();\n  }\n\n  stopProp(element, isInitialized) {\n    if (isInitialized) return;\n    $(element).on(\"click\", (e) => e.stopPropagation());\n    m.route.apply(this, arguments);\n  }\n}\n","import { extend } from \"flarum/extend\";\nimport Page from \"flarum/components/Page\";\nimport IndexPage from \"flarum/components/IndexPage\";\nimport listItems from \"flarum/helpers/listItems\";\nimport humanTime from \"flarum/helpers/humanTime\";\n\nimport sortTags from \"flarum/tags/utils/sortTags\";\nimport tagLabel from \"flarum/tags/helpers/tagLabel\";\nimport TagsPage from \"flarum/tags/components/TagsPage\";\n\nimport Category from \"./Category\";\n\nexport default class CategoriesPage extends TagsPage {\n  init() {\n    Page.prototype.init.call(this);\n\n    this.tags = sortTags(app.store.all(\"tags\").filter((tag) => !tag.parent()));\n\n    app.history.push(\n      \"categories\",\n      app.translator.trans(\n        \"askvortsov-category.forum.header.back_to_categories_tooltip\"\n      )\n    );\n\n    extend(IndexPage.prototype, \"sidebarItems\", function (items) {\n      if (\n        app.current instanceof CategoriesPage &&\n        app.forum.attribute(\"categories.fullPageDesktop\")\n      ) {\n        for (const item in items.items) {\n          if (item != \"newDiscussion\" && item != \"nav\") {\n            items.remove(item);\n          }\n        }\n      }\n      return items;\n    });\n  }\n\n  view() {\n    const pinned = this.tags.filter((tag) => tag.position() !== null);\n    const cloud = this.tags.filter((tag) => tag.position() === null);\n\n    const classes = app.forum.attribute(\"categories.fullPageDesktop\")\n      ? [\"CategoriesPage\", \"TagsPage\"]\n      : [\"CategoriesPage\"];\n\n    return (\n      <div className={classes.join(\" \")}>\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div\n            className={\n              app.forum.attribute(\"categories.fullPageDesktop\")\n                ? \"\"\n                : \"sideNavContainer\"\n            }\n          >\n            <nav\n              className=\"CategoriesPage-nav TagsPage-nav IndexPage-nav sideNav\"\n              config={IndexPage.prototype.affixSidebar}\n            >\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n\n            <div className=\"CategoriesPage-content sideNavOffset\">\n              <ol className=\"TagCategoryList\">\n                {pinned.map((tag) => {\n                  return Category.component({ tag });\n                })}\n              </ol>\n\n              {cloud.length ? (\n                <div className=\"TagCloud\">\n                  {cloud.map((tag) => [tagLabel(tag, { link: true }), \" \"])}\n                </div>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  config(...args) {\n    super.config(...args);\n\n    if (m.route() != \"/\") {\n      app.setTitle(\n        app.translator.trans(\n          \"askvortsov-categories.forum.meta.categories_title\"\n        )\n      );\n    } else {\n      app.setTitle(\"\");\n    }\n    app.setTitleCount(0);\n  }\n}\n","import { extend } from \"flarum/extend\";\nimport IndexPage from \"flarum/components/IndexPage\";\nimport LinkButton from \"flarum/components/LinkButton\";\nimport Model from \"flarum/Model\";\nimport Tag from \"flarum/tags/models/Tag\";\nimport CategoriesPage from \"./components/CategoriesPage\";\n\napp.initializers.add(\"askvortsov/flarum-categories\", () => {\n  app.routes.categories = {\n    path: \"/categories\",\n    component: CategoriesPage.component(),\n  };\n\n  Tag.prototype.postCount = Model.attribute(\"postCount\");\n\n  extend(IndexPage.prototype, \"navItems\", function (items) {\n    if (items.has(\"tags\") && !app.forum.attribute(\"categories.keepTagsNav\")) {\n      items.remove(\"tags\");\n    }\n    items.add(\n      \"categories\",\n      LinkButton.component({\n        icon: \"fas fa-th-list\",\n        children: app.translator.trans(\n          \"askvortsov-categories.forum.index.categories_link\"\n        ),\n        href: app.route(\"categories\"),\n      }),\n      -9.5\n    );\n\n    if (items.has(\"moreTags\")) {\n      items.replace(\n        \"moreTags\",\n        LinkButton.component({\n          children: app.translator.trans(\"flarum-tags.forum.index.more_link\"),\n          href: app.route(\"categories\"),\n        })\n      );\n    }\n\n    return items;\n  });\n});\n"],"sourceRoot":""}